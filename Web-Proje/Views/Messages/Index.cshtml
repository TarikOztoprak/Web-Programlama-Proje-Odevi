@model IEnumerable<Web_Proje.Models.Messages>

@{
    ViewData["Title"] = "Index";
}


<h1>Yorumlar</h1>
@{ if (User.Identity.IsAuthenticated)
   {
        <p>
            <a asp-area="" asp-controller="Messages" asp-action="Create" asp-route-id="@ViewBag.id">Create New</a>
        </p>
   }
   else 
   {
	    <p>
            Yorum Yapmak İçin Giriş Yapınız!
        </p>
   }
}
    <table class="table">
        @foreach (var item in Model.Reverse())
        {
            @if (item.BookId == ViewBag.id)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.User)
                    </td>
                </tr>
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.message)
                    </td>

                    <td>
                        @if (User.Identity.IsAuthenticated)
                        {
                            if (User.IsInRole("admin"))
                            {
                                   <a asp-action="Delete" asp-route-id="@item.messageID">Delete</a>                
                            }
                         }

                    </td>
                </tr>
             }
         }
    </table>
